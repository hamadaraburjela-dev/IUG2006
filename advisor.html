<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    :root{
      --primary:#4f46e5; --primary-dark:#3730a3; --accent:#06b6d4;
      --bg:#f9fafb; --card:#ffffff; --text:#111827; --muted:#6b7280;
      --success:#22c55e; --radius:14px; --shadow:0 8px 30px rgba(0,0,0,.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family:'Cairo',sans-serif;
      background:linear-gradient(135deg,var(--primary),var(--accent));
      min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px;
    }
    .container{width:100%;max-width:980px;background:var(--card);border-radius:var(--radius);box-shadow:var(--shadow);padding:36px;animation:fade .4s ease}
    header{text-align:center;margin-bottom:8px}
    header h1{color:var(--primary);font-size:2.2rem;margin-bottom:10px}
    header p{color:var(--muted)}
    .hero{
      display:grid;grid-template-columns:1fr;gap:16px;text-align:center;margin-top:12px
    }
    .hero .icon{font-size:56px}
    .features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:14px;margin:22px 0}
    .feature{background:#f3f4f6;border-radius:12px;padding:14px}
    .feature h3{color:var(--primary);margin-bottom:6px}
    .btn{display:inline-block;border:none;border-radius:12px;padding:14px 22px;font-size:1rem;color:#fff;background:var(--success);cursor:pointer;transition:.2s}
    .btn:hover{background:#15803d}
    /* Quiz */
    .progress-wrap{margin:8px 0 16px}
    .progress-bar{height:10px;background:#e5e7eb;border-radius:12px;overflow:hidden}
    .progress{height:100%;background:var(--primary);width:0%}
    .section-title{font-weight:700;color:var(--primary);margin:10px 0}
    .q-card{background:#fff;border:1px solid #eee;border-radius:12px;padding:16px;margin-bottom:10px}
    .q-text{font-weight:600;margin-bottom:10px}
    .likert{display:flex;gap:8px;flex-wrap:wrap}
    .chip{
      flex:1;min-width:70px;text-align:center;padding:10px;border-radius:12px;border:2px solid #e5e7eb;cursor:pointer;background:#fff;transition:.2s
    }
    .chip:hover{border-color:var(--primary);background:#f5f3ff}
    .chip.selected{border-color:var(--primary);background:#ede9fe}
    .nav{display:flex;gap:10px;margin-top:10px}
    .btn-nav{flex:1;background:var(--primary)}
    .btn-nav:hover{background:var(--primary-dark)}
    .btn-submit{background:var(--success)}
    .results h2{text-align:center;color:var(--primary);margin-bottom:8px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(230px,1fr));gap:12px}
    .result{background:#f3f4f6;border-radius:12px;padding:12px}
    .result .tag{display:inline-block;background:#fff;border:1px solid #e5e7eb;border-radius:999px;padding:4px 10px;font-size:.85rem;margin-top:6px}
    .muted{color:var(--muted);font-size:.95rem}
    .intro-hide{display:none}
    @keyframes fade{from{opacity:0;transform:translateY(8px)}to{opacity:1;transform:translateY(0)}}
    @media(min-width:900px){
      .hero{grid-template-columns:1.1fr .9fr;text-align:start;align-items:center}
      .hero-visual{background:linear-gradient(135deg,#eef2ff,#cffafe);border-radius:16px;min-height:220px;display:flex;align-items:center;justify-content:center;font-size:100px}
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- ØµÙØ­Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <div id="intro">
      <div class="hero">
        <div>
          <header>
            <h1>Ù…Ù†ØµØ© Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ</h1>
            <p>Ø§Ø®ØªØ¨Ø§Ø± Ø§Ø­ØªØ±Ø§ÙÙŠ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ù†Ù…ÙˆØ°Ø¬ RIASEC + Ù‚ÙŠÙ… Ù…Ù‡Ù†ÙŠØ©ØŒ Ù„Ø§Ù‚ØªØ±Ø§Ø­ ØªØ®ØµØµØ§Øª Ù…Ù„Ø§Ø¦Ù…Ø© Ù„Ùƒ.</p>
          </header>
          <div class="features">
            <div class="feature">
              <h3>ğŸ¯ Ù…Ø¨Ù†ÙŠ Ø¹Ù„Ù‰ Ø¹Ù„Ù…</h3>
              <p class="muted">RIASEC Ù…ÙÙˆØ«Ù‘Ù‚ Ø¹Ù„Ù‰ Ù†Ø·Ø§Ù‚ ÙˆØ§Ø³Ø¹ØŒ ÙˆØªØ³ØªØ®Ø¯Ù…Ù‡ Ø£Ø¯ÙˆØ§Øª Ø±Ø³Ù…ÙŠØ© Ù…Ø«Ù„ O*NET.</p>
            </div>
            <div class="feature">
              <h3>ğŸ§­ 42 Ø³Ø¤Ø§Ù„ Ø¯Ù‚ÙŠÙ‚</h3>
              <p class="muted">ÙŠÙ‚ÙŠØ³ 6 Ù…ÙŠÙˆÙ„ ÙˆØ¸ÙŠÙÙŠØ© + 3 Ù‚ÙŠÙ… Ù…Ù‡Ù†ÙŠØ© ØªØ¤Ø«Ø± ÙÙŠ Ø§Ù„Ù‚Ø±Ø§Ø±.</p>
            </div>
            <div class="feature">
              <h3>ğŸ“ˆ ØªÙˆØµÙŠØ§Øª ÙˆØ§Ø¶Ø­Ø©</h3>
              <p class="muted">Ù†ÙØ¸Ù‡Ø± Ø£Ø¹Ù„Ù‰ Ø§Ù„Ø´ÙØ±Ø§Øª (Ø§Ù„ÙƒÙˆØ¯Ø§Øª) Ù…Ø¹ ØªØ®ØµØµØ§Øª Ù…Ù†Ø§Ø³Ø¨Ø© ÙˆØªÙØ³ÙŠØ± Ù…ÙˆØ¬Ø².</p>
            </div>
          </div>
          <button id="btnStart" class="btn">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©</button>
        </div>
        <div class="hero-visual">ğŸ“</div>
      </div>
    </div>

    <!-- Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† -->
    <div id="quizSection" class="intro-hide">
      <div class="progress-wrap">
        <div class="progress-bar"><div id="progress" class="progress"></div></div>
        <div class="muted" id="progressText"></div>
      </div>

      <div id="pageTitle" class="section-title"></div>
      <div id="questionsWrap"></div>

      <div class="nav">
        <button id="btnPrev" class="btn btn-nav">Ø§Ù„Ø³Ø§Ø¨Ù‚</button>
        <button id="btnNext" class="btn btn-nav">Ø§Ù„ØªØ§Ù„ÙŠ</button>
        <button id="btnSubmit" class="btn btn-submit intro-hide">Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†ØªØ§Ø¦Ø¬</button>
      </div>
    </div>

    <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
    <div id="results" class="intro-hide">
      <h2>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ø§Ø³ØªØ´Ø§Ø±Ø©</h2>
      <p class="muted" id="summaryLine"></p>
      <div id="recommendations" class="grid" style="margin-top:10px"></div>
      <div style="margin-top:12px;display:flex;gap:10px">
        <button id="btnRestart" class="btn">ğŸ”„ Ø¨Ø¯Ø¡ Ù…Ù† Ø¬Ø¯ÙŠØ¯</button>
      </div>
      <p class="muted" style="margin-top:10px">ØªÙ†Ø¨ÙŠÙ‡: Ù‡Ø°Ø§ Ø§Ù„Ø§Ø³ØªØ¨ÙŠØ§Ù† Ø¥Ø±Ø´Ø§Ø¯ÙŠ ÙˆÙ„ÙŠØ³ ØªØ´Ø®ÙŠØµØ§Ù‹ Ù†ÙØ³ÙŠØ§Ù‹. ÙŠÙÙØ¶Ù‘ÙÙ„ Ù…Ù†Ø§Ù‚Ø´Ø© Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù…Ø¹ Ø§Ù„Ù…Ø±Ø´Ø¯ Ø§Ù„Ø£ÙƒØ§Ø¯ÙŠÙ…ÙŠ.</p>
    </div>
  </div>

  <script>
    /* ======================
       1) ØªØ¹Ø±ÙŠÙ Ø§Ù„Ø¨ÙÙ†Ù‰
       ====================== */
    // Ø£Ø³Ø¦Ù„Ø© RIASEC (36): 6 Ù„ÙƒÙ„ Ø¨Ø¹Ø¯. Ù…Ù‚ÙŠØ§Ø³ 1 (Ù„Ø§ Ø£Ù…ÙŠÙ„ Ø¥Ø·Ù„Ø§Ù‚Ø§Ù‹) Ø¥Ù„Ù‰ 5 (Ø£Ù…ÙŠÙ„ Ø¬Ø¯Ø§Ù‹)
    const RIASEC_ITEMS = [
      // R - ÙˆØ§Ù‚Ø¹ÙŠ Realistic: Ø£Ù†Ø´Ø·Ø© Ø¹Ù…Ù„ÙŠØ©/Ù…ÙŠØ¯Ø§Ù†ÙŠØ©/Ø£Ø¯ÙˆØ§Øª
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ÙŠØ¯ÙˆÙŠØ© ÙˆØ§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø¯ÙˆØ§Øª.", d:"R"},
      {t:"Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ø¹Ù…Ù„ÙŠØ© Ø¹Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ù…ÙƒØªØ¨ÙŠ Ø§Ù„Ø·ÙˆÙŠÙ„.", d:"R"},
      {t:"Ø£ÙÙØ¶Ù‘ÙÙ„ Ø¨ÙŠØ¦Ø§Øª Ø¹Ù…Ù„ Ù…ÙŠØ¯Ø§Ù†ÙŠØ© Ø£Ùˆ Ø®Ø§Ø±Ø¬ÙŠØ©.", d:"R"},
      {t:"Ø£Ø¬Ø¯ ØªØ±ÙƒÙŠØ¨/Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ø£Ø´ÙŠØ§Ø¡ Ù…Ù…ØªØ¹Ø§Ù‹.", d:"R"},
      {t:"Ø£ÙØ¶Ù„ Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø¨Ø§Ù„ØªØ¬Ø±Ø¨Ø© Ø§Ù„Ù…Ø¨Ø§Ø´Ø±Ø©.", d:"R"},
      {t:"Ø£Ø±ØªØ§Ø­ ÙÙŠ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø§Ù„ØªÙŠ ØªØ·Ù„Ø¨ Ù†Ø´Ø§Ø·Ø§Ù‹ Ø¨Ø¯Ù†ÙŠØ§Ù‹.", d:"R"},
      // I - ØªØ­Ù„ÙŠÙ„ÙŠ Investigative: ØªØ­Ù„ÙŠÙ„/Ø¨Ø­Ø«/Ø¹Ù„Ù…
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø­Ù„ Ø§Ù„Ù…Ø³Ø§Ø¦Ù„ Ø§Ù„Ù…Ø¹Ù‚Ù‘Ø¯Ø©.", d:"I"},
      {t:"Ø£Ø­Ø¨ ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙˆØ§ÙƒØªØ´Ø§Ù Ø§Ù„Ø£Ù†Ù…Ø§Ø·.", d:"I"},
      {t:"Ø£Ù…ÙŠÙ„ Ù„Ù„Ø¨Ø­Ø« ÙˆØ§Ù„ØªØ¹Ù…Ù‘Ù‚ Ù‚Ø¨Ù„ Ø§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±.", d:"I"},
      {t:"Ø§Ù„Ù…ÙˆØ¶ÙˆØ¹Ø§Øª Ø§Ù„Ø¹Ù„Ù…ÙŠØ©/Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ© ØªØ«ÙŠØ± Ø§Ù‡ØªÙ…Ø§Ù…ÙŠ.", d:"I"},
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨ØªØ¬Ø±Ø¨Ø© Ø£ÙÙƒØ§Ø± ÙˆÙØ±Ø¶ÙŠÙ‘Ø§Øª Ø¬Ø¯ÙŠØ¯Ø©.", d:"I"},
      {t:"Ø£ÙÙØ¶Ù‘Ù„ Ù…Ù‡Ø§Ù… ØªØªØ·Ù„Ù‘Ø¨ ØªÙÙƒÙŠØ±Ø§Ù‹ Ù†Ù‚Ø¯ÙŠØ§Ù‹.", d:"I"},
      // A - ÙÙ†ÙŠ Artistic: Ø¥Ø¨Ø¯Ø§Ø¹/ØªØµÙ…ÙŠÙ…/ØªØ¹Ø¨ÙŠØ±
      {t:"Ø£Ù…ÙŠÙ„ Ù„Ù„ØªØ¹Ø¨ÙŠØ± Ø§Ù„Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ (ÙƒØªØ§Ø¨Ø©/Ø±Ø³Ù…/ØªØµÙ…ÙŠÙ…).", d:"A"},
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ø¨ØªÙƒØ§Ø± Ø­Ù„ÙˆÙ„ ØºÙŠØ± ØªÙ‚Ù„ÙŠØ¯ÙŠØ©.", d:"A"},
      {t:"Ø£ÙÙØ¶Ù‘ÙÙ„ Ø¹Ù…Ù„Ø§Ù‹ ÙŠÙ…Ù†Ø­Ù†ÙŠ Ø­Ø±ÙŠØ© ÙÙ†ÙŠØ©.", d:"A"},
      {t:"Ø£Ù‡ØªÙ… Ø¨Ø¬Ù…Ø§Ù„ÙŠØ§Øª Ø§Ù„Ø¹Ø±Ø¶ ÙˆØ§Ù„ØªØµÙ…ÙŠÙ….", d:"A"},
      {t:"Ø£Ø­Ø¨ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø±Ø¦ÙŠ Ø£Ùˆ Ø§Ù„Ø³Ø±Ø¯ÙŠ.", d:"A"},
      {t:"Ø£Ø®ØªØ§Ø± Ù…Ù‡Ø§Ù…Ø§Ù‹ ØªØ³Ù…Ø­ Ù„ÙŠ Ø¨Ø§Ù„ØªØ¬Ø±Ø¨Ø© ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±.", d:"A"},
      // S - Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ Social: Ù…Ø³Ø§Ø¹Ø¯Ø©/ØªØ¹Ù„ÙŠÙ…/ØªÙˆØ§ØµÙ„
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ù…Ø³Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¢Ø®Ø±ÙŠÙ† Ø¹Ù„Ù‰ Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø£Ùˆ Ø§Ù„ØªØ·ÙˆÙ‘Ø±.", d:"S"},
      {t:"Ø£ÙØ¶Ù‘Ù„ Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„Ø°ÙŠ ÙŠØªÙˆØ§ØµÙ„ Ù…Ø¹ Ø§Ù„Ù†Ø§Ø³ Ø¨Ø´ÙƒÙ„ Ù…Ø¨Ø§Ø´Ø±.", d:"S"},
      {t:"Ø£Ø³ØªÙ…Ø¯ Ø·Ø§Ù‚ØªÙŠ Ù…Ù† Ø§Ù„Ø¹Ù…Ù„ Ø¶Ù…Ù† ÙØ±Ù‚ ÙˆØªÙˆØ¬ÙŠÙ‡Ù‡Ø§.", d:"S"},
      {t:"Ø£ÙØªÙ‚Ù† Ø§Ù„Ø¥ØµØºØ§Ø¡ ÙˆØªÙÙ‡Ù‘Ù… Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†.", d:"S"},
      {t:"Ø£Ø­Ø¨ ØªÙ‚Ø¯ÙŠÙ… Ø§Ù„Ø¥Ø±Ø´Ø§Ø¯ Ø£Ùˆ Ø§Ù„Ø¯Ø¹Ù… Ù„Ù„Ø£Ø´Ø®Ø§Øµ.", d:"S"},
      {t:"Ø£Ù…ÙŠÙ„ Ù„Ù„Ø£Ø¯ÙˆØ§Ø± Ø§Ù„ØªÙŠ Ù„Ù‡Ø§ Ø£Ø«Ø± Ù…Ø¬ØªÙ…Ø¹ÙŠ ÙˆØ§Ø¶Ø­.", d:"S"},
      // E - Ù…Ø¨Ø§Ø¯Ø± Enterprising: Ù‚ÙŠØ§Ø¯Ø©/Ù…Ø¨ÙŠØ¹Ø§Øª/Ø£Ø¹Ù…Ø§Ù„
      {t:"Ø£Ø­Ø¨ Ù‚ÙŠØ§Ø¯Ø© Ø§Ù„Ù…Ø´Ø§Ø±ÙŠØ¹ ÙˆØ§ØªØ®Ø§Ø° Ø§Ù„Ù‚Ø±Ø§Ø±Ø§Øª.", d:"E"},
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„ØªÙØ§ÙˆØ¶ ÙˆØ§Ù„Ø¥Ù‚Ù†Ø§Ø¹ ÙˆØ¨ÙŠØ¹ Ø§Ù„Ø£ÙÙƒØ§Ø±.", d:"E"},
      {t:"Ø£Ø·Ù…Ø­ Ù„Ø¨Ù†Ø§Ø¡ Ø¹Ù…Ù„/Ù…Ø´Ø±ÙˆØ¹ Ø®Ø§Øµ Ø¨ÙŠ.", d:"E"},
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø£Ù‡Ø¯Ø§Ù Ø·Ù…ÙˆØ­Ø© ÙˆÙ…Ù†Ø§ÙØ³Ø©.", d:"E"},
      {t:"Ø£Ù…ÙŠÙ„ Ù„Ø£Ø¯ÙˆØ§Ø± ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…ÙˆØ§Ø±Ø¯ ÙˆØªÙˆØ²ÙŠØ¹Ù‡Ø§.", d:"E"},
      {t:"Ø£Ù‚ØªÙ†Ø¹ Ø¨Ø³Ø±Ø¹Ø© Ø¨ÙÙƒØ±Ø© Ø¬ÙŠÙ‘Ø¯Ø© ÙˆØ£Ø¯ÙØ¹ Ø§Ù„ÙØ±ÙŠÙ‚ Ù„ØªÙ†ÙÙŠØ°Ù‡Ø§.", d:"E"},
      // C - ØªÙ‚Ù„ÙŠØ¯ÙŠ Conventional: ØªÙ†Ø¸ÙŠÙ…/ØªÙØ§ØµÙŠÙ„/Ø£Ù†Ø¸Ù…Ø©
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆØªØ¨ÙˆÙŠØ¨Ù‡Ø§.", d:"C"},
      {t:"Ø£ÙØ¶Ù‘Ù„ Ø¨ÙŠØ¦Ø© Ø¹Ù…Ù„ Ø°Ø§Øª Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª ÙˆØ§Ø¶Ø­Ø© ÙˆØ«Ø§Ø¨ØªØ©.", d:"C"},
      {t:"Ø£ÙØªÙ‚Ù† Ø§Ù„ØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„/Ø§Ù„Ù…Ù„ÙØ§Øª Ø¨Ø¯Ù‚Ø©.", d:"C"},
      {t:"Ø£Ù…ÙŠÙ„ Ù„Ø§ØªØ¨Ø§Ø¹ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯ Ù„Ø¶Ù…Ø§Ù† Ø§Ù„Ø¬ÙˆØ¯Ø©.", d:"C"},
      {t:"Ø£Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„ØªÙŠ ØªØªØ·Ù„Ø¨ Ø¯Ù‚Ø© ÙˆØªÙØ§ØµÙŠÙ„.", d:"C"},
      {t:"Ø£ÙØ¶Ù„ Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø£Ø¹Ù…Ø§Ù„ Ø®Ø·ÙˆØ© Ø¨Ø®Ø·ÙˆØ© ÙˆÙÙ‚ Ø®Ø·Ø©.", d:"C"},
    ];

    // Ù‚ÙŠÙ… Ù…Ù‡Ù†ÙŠØ© (6): ØªØ¶Ø¨Ø· ØªØ±ØªÙŠØ¨ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ (Ø±Ø§ØªØ¨/Ø§Ø³ØªÙ‚Ø±Ø§Ø±/Ø®Ø¯Ù…Ø© Ù…Ø¬ØªÙ…Ø¹)
    const VALUE_ITEMS = [
      {t:"Ø£ÙØ¶Ù„ ÙˆØ¸ÙŠÙØ© Ø°Ø§Øª Ø¯Ø®Ù„ Ù…Ø±ØªÙØ¹ Ø­ØªÙ‰ Ù„Ùˆ ÙƒØ§Ù†Øª Ø£Ù‚Ù„ Ù…ØªØ¹Ø©.", k:"salary"},
      {t:"Ø£Ù‚Ø¯Ù‘Ù… Ø§Ù„Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø¹Ù„Ù‰ Ø§Ù„Ù…ØºØ§Ù…Ø±Ø©.", k:"stability"},
      {t:"Ø£Ø¨Ø­Ø« Ø¹Ù† Ø¹Ù…Ù„ Ù„Ù‡ Ø£Ø«Ø± Ù…Ø¬ØªÙ…Ø¹ÙŠ Ù…Ø¨Ø§Ø´Ø±.", k:"altruism"},
      {t:"Ø£ÙØ¶Ù„ Ø§Ù„ØªØ¹Ù„Ù‘Ù… Ø§Ù„Ù…Ø³ØªÙ…Ø± Ø­ØªÙ‰ Ù„Ùˆ ØªØ·Ù„Ø¨ Ø¬Ù‡Ø¯Ø§Ù‹ Ø¥Ø¶Ø§ÙÙŠØ§Ù‹.", k:"growth"},
      {t:"Ø£ÙØ¶Ù„ Ù…Ø±ÙˆÙ†Ø© Ø§Ù„ÙˆÙ‚Øª Ø¹Ù„Ù‰ Ø¯ÙˆØ§Ù… Ø«Ø§Ø¨Øª ÙˆØµØ§Ø±Ù….", k:"flexibility"},
      {t:"Ø£ÙØ¶Ù„ ÙˆØ¶ÙˆØ­ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ÙˆØ¸ÙŠÙÙŠ Ø¹Ù„Ù‰ ØªØºÙŠÙ‘Ø± Ø§Ù„Ù…Ù‡Ø§Ù… Ø§Ù„Ù…ØªÙƒØ±Ø±.", k:"clarity"},
    ];

    // ØªÙ‚Ø³ÙŠÙ… Ø§Ù„ØµÙØ­Ø§Øª: 7 Ø£Ø³Ø¦Ù„Ø© ÙÙŠ Ø§Ù„ØµÙØ­Ø© (6 ØµÙØ­Ø§Øª RIASEC) + ØµÙØ­Ø© Ù‚ÙŠÙ… (Ø£Ø®ÙŠØ±Ø©)
    const PAGE_SIZE = 7;
    const TOTAL_R_ITEMS = RIASEC_ITEMS.length; // 36
    const TOTAL_V_ITEMS = VALUE_ITEMS.length;  // 6
    const TOTAL_ITEMS = TOTAL_R_ITEMS + TOTAL_V_ITEMS; // 42
    const R_PAGES = Math.ceil(TOTAL_R_ITEMS / PAGE_SIZE); // 6
    const TOTAL_PAGES = R_PAGES + 1; // + ØµÙØ­Ø© Ø§Ù„Ù‚ÙŠÙ…

    // Ø§Ù„ØªØ®ØµØµØ§Øª ÙˆÙ‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø±Ø¨Ø· ØªÙ‚Ø±Ø£ Ø£Ø¹Ù„Ù‰ Ø´ÙØ±Ø§Øª RIASEC + Ø§Ù„Ù‚ÙŠÙ…
    const MAJORS = [
      {id:'cs', name:'Ù‡Ù†Ø¯Ø³Ø©/Ø¹Ù„ÙˆÙ… Ø§Ù„Ø­Ø§Ø³ÙˆØ¨', codes:['I','C','R'], note:'ØªØ­Ù„ÙŠÙ„ ÙˆØ°ÙƒØ§Ø¡ Ø§ØµØ·Ù†Ø§Ø¹ÙŠ/Ø¨Ø±Ù…Ø¬Ø©/Ø£Ù†Ø¸Ù…Ø©'},
      {id:'ai', name:'Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ ÙˆØ¹Ù„ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª', codes:['I','C'], note:'ØªØ­Ù„ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªØŒ ØªØ¹Ù„Ù… Ø¢Ù„ÙŠØŒ Ø¨Ø­Ø« ÙˆØªØ·ÙˆÙŠØ±'},
      {id:'civil', name:'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©', codes:['R','I','C'], note:'Ù…ÙŠØ¯Ø§Ù†ÙŠ + Ø­Ø³Ø§Ø¨Ø§Øª ÙˆØªØµÙ…ÙŠÙ… ÙˆØªÙ†ÙÙŠØ°'},
      {id:'me', name:'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©', codes:['R','I'], note:'ØªØµÙ…ÙŠÙ… Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠ ÙˆÙ†ÙØ¸Ù… Ù…Ø§Ø¯ÙŠØ©'},
      {id:'ee', name:'Ù‡Ù†Ø¯Ø³Ø© ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©/Ø§ØªØµØ§Ù„Ø§Øª', codes:['I','R','C'], note:'Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ§ØªØŒ Ù†Ø¸Ù… Ø§ØªØµØ§Ù„Ø§ØªØŒ ØªØ­ÙƒÙ…'},
      {id:'arch', name:'Ø§Ù„Ù‡Ù†Ø¯Ø³Ø© Ø§Ù„Ù…Ø¹Ù…Ø§Ø±ÙŠØ©', codes:['A','R','I'], note:'Ø¥Ø¨Ø¯Ø§Ø¹ Ø¨ØµØ±ÙŠ + Ù…ØªØ·Ù„Ø¨Ø§Øª ØªÙ‚Ù†ÙŠØ©'},
      {id:'design', name:'Ø§Ù„ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¬Ø±Ø§ÙÙŠÙƒÙŠ/Ø§Ù„Ù…Ù†ØªØ¬', codes:['A'], note:'Ù‡ÙˆÙŠØ© Ø¨ØµØ±ÙŠØ©ØŒ ØªØ¬Ø±Ø¨Ø© Ù…Ø³ØªØ®Ø¯Ù…ØŒ Ù…Ø­ØªÙˆÙ‰'},
      {id:'med', name:'Ø§Ù„Ø·Ø¨ Ø§Ù„Ø¨Ø´Ø±ÙŠ', codes:['S','I'], note:'Ù…Ø³Ø§Ø¹Ø¯Ø© Ø¨Ø´Ø± + Ù…Ø¹Ø±ÙØ© Ø¹Ù„Ù…ÙŠØ© Ø¹Ù…ÙŠÙ‚Ø©'},
      {id:'pharm', name:'Ø§Ù„ØµÙŠØ¯Ù„Ø©', codes:['I','C','S'], note:'Ø¹Ù„Ù…ÙŠ Ø¯Ù‚ÙŠÙ‚ + Ø§Ù„ØªØ²Ø§Ù… Ù…Ø¹Ø§ÙŠÙŠØ±'},
      {id:'nursing', name:'Ø§Ù„ØªÙ…Ø±ÙŠØ¶/Ø§Ù„Ø¹Ù„ÙˆÙ… Ø§Ù„ØµØ­ÙŠØ©', codes:['S','C'], note:'Ø±Ø¹Ø§ÙŠØ© Ù…Ø¨Ø§Ø´Ø±Ø© + Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„Ø§Øª Ø«Ø§Ø¨ØªØ©'},
      {id:'law', name:'Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†', codes:['S','E','C'], note:'ØªÙˆØ§ØµÙ„/Ø­Ø¬Ø¬ + Ø§Ù„ØªØ²Ø§Ù… Ø£Ù†Ø¸Ù…Ø©'},
      {id:'biz', name:'Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„Ø£Ø¹Ù…Ø§Ù„', codes:['E','S','C'], note:'Ù‚ÙŠØ§Ø¯Ø©/ØªÙ†Ø¸ÙŠÙ…/Ø¹Ù…Ù„ÙŠØ§Øª'},
      {id:'mkt', name:'Ø§Ù„ØªØ³ÙˆÙŠÙ‚/Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª', codes:['E','A','S'], note:'Ø¥Ù‚Ù†Ø§Ø¹ØŒ Ø³Ø±Ø¯ Ù‚ØµØµÙŠØŒ ÙÙ‡Ù… Ø§Ù„Ø¹Ù…Ù„Ø§Ø¡'},
      {id:'acc', name:'Ù…Ø­Ø§Ø³Ø¨Ø©/ØªÙ…ÙˆÙŠÙ„', codes:['C','I'], note:'Ø¯Ù‚Ø© Ø¹Ø§Ù„ÙŠØ©ØŒ Ø£Ù†Ø¸Ù…Ø© ÙˆØªÙ‚Ø§Ø±ÙŠØ±'},
      {id:'edu', name:'Ø§Ù„ØªØ±Ø¨ÙŠØ© ÙˆØ§Ù„ØªØ¹Ù„ÙŠÙ…', codes:['S','A'], note:'ØªØ¹Ù„ÙŠÙ… ÙˆØªÙˆØ§ØµÙ„ ÙˆØ¥Ø¨Ø¯Ø§Ø¹ ÙÙŠ Ø§Ù„Ø´Ø±Ø­'}
    ];

    /* ======================
       2) Ø¹Ù†Ø§ØµØ± Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
       ====================== */
    const intro = document.getElementById('intro');
    const quizSection = document.getElementById('quizSection');
    const resultsView = document.getElementById('results');
    const btnStart = document.getElementById('btnStart');
    const btnPrev = document.getElementById('btnPrev');
    const btnNext = document.getElementById('btnNext');
    const btnSubmit = document.getElementById('btnSubmit');
    const progress = document.getElementById('progress');
    const progressText = document.getElementById('progressText');
    const pageTitle = document.getElementById('pageTitle');
    const questionsWrap = document.getElementById('questionsWrap');
    const btnRestart = document.getElementById('btnRestart');
    const recommendations = document.getElementById('recommendations');
    const summaryLine = document.getElementById('summaryLine');

    /* ======================
       3) Ø­Ø§Ù„Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
       ====================== */
    let page = 0; // 0..TOTAL_PAGES-1
    const responses = {}; // idx -> 1..5
    const values = {};    // key -> 1..5

    /* ======================
       4) ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
       ====================== */
    function show(el){ el.classList.remove('intro-hide'); }
    function hide(el){ el.classList.add('intro-hide'); }
    function clamp(v,min,max){ return Math.max(min, Math.min(max, v)); }

    function renderPage(){
      questionsWrap.innerHTML = '';
      const isValuePage = (page === TOTAL_PAGES - 1);

      // Ø¹Ù†ÙˆØ§Ù† Ø§Ù„Ù‚Ø³Ù…
      pageTitle.textContent = isValuePage ? 'Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù‡Ù†ÙŠØ©' : `Ù…ÙŠÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„ (RIASEC) â€” Ø§Ù„ØµÙØ­Ø© ${page + 1} Ù…Ù† ${TOTAL_PAGES - 1}`;

      // Ù…ØµØ¯Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙÙŠ Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø©
      let items = [];
      if(!isValuePage){
        const start = page * PAGE_SIZE;
        items = RIASEC_ITEMS.slice(start, start + PAGE_SIZE);
      }else{
        items = VALUE_ITEMS;
      }

      // Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø¨Ø·Ø§Ù‚Ø§Øª
      items.forEach((item, idxOnPage) => {
        const globalIdx = isValuePage ? (`val_${item.k}`) : (page * PAGE_SIZE + idxOnPage);
        const card = document.createElement('div');
        card.className = 'q-card';

        const q = document.createElement('div');
        q.className = 'q-text';
        q.textContent = isValuePage ? item.t : `${globalIdx+1}. ${item.t}`;
        card.appendChild(q);

        const likert = document.createElement('div');
        likert.className = 'likert';

        const labels = ["1 Ù„Ø§ Ø£Ù…ÙŠÙ„", "2", "3 Ù…Ø­Ø§ÙŠØ¯", "4", "5 Ø£Ù…ÙŠÙ„ Ø¬Ø¯Ø§Ù‹"];
        for(let v=1; v<=5; v++){
          const chip = document.createElement('div');
          chip.className = 'chip';
          chip.textContent = labels[v-1];
          const selected = isValuePage
            ? (values[item.k] === v)
            : (responses[globalIdx] === v);
          if(selected) chip.classList.add('selected');
          chip.onclick = () => {
            if(isValuePage){
              values[item.k] = v;
            }else{
              responses[globalIdx] = v;
            }
            renderPage(); // Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø±Ø³Ù… Ù„ØªØ­Ø¯ÙŠØ« Ø§Ù„ØªØ­Ø¯ÙŠØ¯
          };
          likert.appendChild(chip);
        }

        card.appendChild(likert);
        questionsWrap.appendChild(card);
      });

      // Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ‚Ø¯Ù…
      const answeredCount = Object.keys(responses).length + Object.keys(values).length;
      const pct = Math.round( (answeredCount / TOTAL_ITEMS) * 100 );
      progress.style.width = pct + '%';
      progressText.textContent = `Ø£Ø¬Ø¨Øª Ø¹Ù„Ù‰ ${answeredCount} Ù…Ù† ${TOTAL_ITEMS} (${pct}Ùª)`;

      // Ø£Ø²Ø±Ø§Ø±
      btnPrev.disabled = page === 0;
      btnNext.classList.remove('intro-hide');
      btnSubmit.classList.add('intro-hide');
      if(page === TOTAL_PAGES - 1){
        btnNext.classList.add('intro-hide');
        btnSubmit.classList.remove('intro-hide');
      }
    }

    function scoreRIASEC(){
      const scores = {R:0,I:0,A:0,S:0,E:0,C:0};
      for(let i=0;i<RIASEC_ITEMS.length;i++){
        const item = RIASEC_ITEMS[i];
        const v = responses[i] || 0;
        scores[item.d] += v;
      }
      return scores;
    }

    function topCodes(scores){
      const arr = Object.entries(scores).sort((a,b)=>b[1]-a[1]);
      return arr.slice(0,3).map(([k])=>k); // Ø£Ø¹Ù„Ù‰ 3
    }

    function rankMajors(scores){
      const codes = topCodes(scores);
      const weights = {salary:(values.salary||3)-3, stability:(values.stability||3)-3, altruism:(values.altruism||3)-3};
      // ØªØ­ÙˆÙŠÙ„ -2..+2 Ø¥Ù„Ù‰ Ù…Ø¶Ø§Ø¹ÙØ§Øª Ø¨Ø³ÙŠØ·Ø©
      function codeMatchScore(m){
        // ØªØ´Ø§Ø¨Ù‡ Ø§Ù„Ø´ÙØ±Ø§Øª
        let s = 0;
        m.codes.forEach((c, idx)=>{
          s += (scores[c]||0) * (idx===0?1.0:idx===1?0.7:0.5);
        });
        // ØªØ¹Ø¯ÙŠÙ„Ø§Øª Ø§Ù„Ù‚ÙŠÙ… (ØªÙ‚Ø±ÙŠØ¨ÙŠØ©)
        if(['med','nursing','edu'].includes(m.id)) s += (weights.altruism*2);
        if(['acc','pharm','civil','ee'].includes(m.id)) s += (weights.stability*1.5);
        if(['biz','mkt','ai','cs'].includes(m.id)) s += (weights.salary*1.5);
        return s;
      }
      const ranked = MAJORS
        .map(m => ({...m, s: codeMatchScore(m)}))
        .sort((a,b)=>b.s-a.s);
      return {codes, ranked};
    }

    function codeToLabel(c){
      return {R:'ÙˆØ§Ù‚Ø¹ÙŠ', I:'ØªØ­Ù„ÙŠÙ„ÙŠ/Ø¨Ø­Ø«ÙŠ', A:'ÙÙ†ÙŠ/Ø¥Ø¨Ø¯Ø§Ø¹ÙŠ', S:'Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠ', E:'Ù…Ø¨Ø§Ø¯Ø±/Ù‚ÙŠØ§Ø¯ÙŠ', C:'ØªÙ‚Ù„ÙŠØ¯ÙŠ/Ù…Ù†Ø¸Ù‘Ù…'}[c] || c;
    }

    function showResults(){
      // ØªØ­Ù‚Ù‚ Ø¨Ø³ÙŠØ·: Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù…Ø¬Ø§Ø¨Ø©
      const needed = TOTAL_ITEMS;
      const got = Object.keys(responses).length + Object.keys(values).length;
      if(got < needed){
        alert('ÙŠØ±Ø¬Ù‰ Ø¥ÙƒÙ…Ø§Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ù‚Ø¨Ù„ Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬.');
        return;
      }
      const scores = scoreRIASEC();
      const {codes, ranked} = rankMajors(scores);

      // Ù…Ù„Ø®Øµ
      const codeStr = codes.map(codeToLabel).join(' â€¢ ');
      summaryLine.textContent = `Ø£Ø¹Ù„Ù‰ Ù…ÙŠÙˆÙ„ Ù„Ø¯ÙŠÙƒ: ${codeStr}`;

      // ØªÙˆØµÙŠØ§Øª
      recommendations.innerHTML = '';
      ranked.slice(0,6).forEach(m=>{
        const div = document.createElement('div');
        div.className = 'result';
        div.innerHTML = `
          <div style="font-weight:700">${m.name}</div>
          <div class="muted">${m.note}</div>
          <div class="tag">Ø±Ù…ÙˆØ² Ù…Ø±ØªØ¨Ø·Ø©: ${m.codes.join('-')}</div>
        `;
        recommendations.appendChild(div);
      });

      hide(quizSection);
      show(resultsView);
      window.scrollTo({top:0,behavior:'smooth'});
    }

    /* ======================
       5) Ø£Ø­Ø¯Ø§Ø«
       ====================== */
    btnStart.onclick = () => { hide(intro); show(quizSection); renderPage(); };
    btnPrev.onclick = () => { page = clamp(page-1, 0, TOTAL_PAGES-1); renderPage(); };
    btnNext.onclick = () => { page = clamp(page+1, 0, TOTAL_PAGES-1); renderPage(); };
    btnSubmit.onclick = showResults;
    btnRestart.onclick = () => {
      page = 0; for(const k in responses) delete responses[k];
      for(const k in values) delete values[k];
      hide(resultsView); show(intro); window.scrollTo({top:0,behavior:'smooth'});
    };
  </script>
</body>
</html>
