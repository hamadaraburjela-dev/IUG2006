<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>الإرشاد الأكاديمي</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #4f46e5;
      --primary-dark: #3730a3;
      --accent: #06b6d4;
      --bg: #f9fafb;
      --card: #ffffff;
      --text: #111827;
      --muted: #6b7280;
      --success: #22c55e;
      --radius: 14px;
      --shadow: 0 6px 25px rgba(0,0,0,0.08);
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body {
      font-family:'Cairo',sans-serif;
      background:linear-gradient(135deg,var(--primary),var(--accent));
      min-height:100vh;
      display:flex;align-items:center;justify-content:center;
      padding:20px;
    }
    .container {
      background:var(--card);
      border-radius:var(--radius);
      box-shadow:var(--shadow);
      width:100%;max-width:900px;
      padding:40px;
      animation:fadeIn .5s ease;
    }
    header{text-align:center;margin-bottom:20px}
    header h1{color:var(--primary);font-size:2.2rem;margin-bottom:10px}
    header p{color:var(--muted);font-size:1rem}
    .intro{text-align:center}
    .intro-icon{font-size:4rem;color:var(--primary);margin-bottom:15px}
    .features{display:grid;gap:15px;margin:25px 0}
    .feature {
      background:#f3f4f6;
      padding:15px;
      border-radius:var(--radius);
      box-shadow:var(--shadow);
    }
    .feature h3{color:var(--primary);margin-bottom:5px}
    .btn {
      display:inline-block;
      padding:14px 25px;
      border:none;
      border-radius:var(--radius);
      font-size:1rem;
      cursor:pointer;
      color:#fff;
      background:var(--success);
      transition:background .3s;
    }
    .btn:hover{background:#15803d}
    .progress-bar{height:10px;background:#e5e7eb;border-radius:var(--radius);overflow:hidden;margin-bottom:15px}
    .progress{height:100%;background:var(--primary);width:0%;transition:width .3s}
    .question h2{font-size:1.3rem;margin-bottom:15px;color:var(--text)}
    .options{display:grid;gap:12px}
    .option {
      padding:14px;border:2px solid #e5e7eb;border-radius:var(--radius);
      background:#fff;cursor:pointer;text-align:center;
      transition:all .3s;font-size:1rem;
    }
    .option:hover{border-color:var(--primary);background:#f5f3ff}
    .option.selected{border-color:var(--primary);background:#ede9fe}
    footer{display:flex;gap:10px}
    .btn-nav{flex:1;background:var(--primary)}
    .btn-nav:hover{background:var(--primary-dark)}
    .btn.submit{background:var(--success)}
    .btn.submit:hover{background:#15803d}
    .results h2{text-align:center;color:var(--primary)}
    .result-list{display:grid;gap:10px;margin-top:15px}
    .result-card{background:#f3f4f6;padding:12px;border-radius:var(--radius);font-weight:600;text-align:center}
    @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
  </style>
</head>
<body>
  <div class="container">
    <!-- صفحة البداية -->
    <div id="intro" class="intro">
      <div class="intro-icon">🎓</div>
      <header>
        <h1>منصة الإرشاد الأكاديمي</h1>
        <p>ساعد نفسك في اختيار التخصص الجامعي الأنسب لك بخطوات سهلة وسريعة</p>
      </header>
      <div class="features">
        <div class="feature">
          <h3>⚡ سريعة</h3>
          <p>الإجابة على الأسئلة تستغرق فقط 3-5 دقائق.</p>
        </div>
        <div class="feature">
          <h3>🎯 دقيقة</h3>
          <p>يعتمد الاختبار على تفضيلاتك واهتماماتك الشخصية.</p>
        </div>
        <div class="feature">
          <h3>🤝 داعمة</h3>
          <p>ستحصل على اقتراحات تساعدك في مناقشة خياراتك مع المرشد الأكاديمي.</p>
        </div>
      </div>
      <button id="btnStart" class="btn">ابدأ الاستشارة</button>
    </div>

    <!-- الاستبيان -->
    <div id="quiz-section" style="display:none;">
      <div class="progress-bar"><div class="progress"></div></div>
      <main id="quiz">
        <div class="question">
          <h2 id="question-text"></h2>
          <div id="options" class="options"></div>
        </div>
      </main>
      <div id="results" style="display:none;">
        <h2>نتائج الاستشارة</h2>
        <div id="result-list" class="result-list"></div>
        <button id="btnRestart" class="btn">🔄 بدء من جديد</button>
      </div>
      <footer>
        <button id="btnPrev" class="btn btn-nav">السابق</button>
        <button id="btnNext" class="btn btn-nav">التالي</button>
        <button id="btnSubmit" class="btn submit" style="display:none;">إرسال</button>
      </footer>
    </div>
  </div>

  <script>
    // === الأسئلة ===
    const questions = [
      {text:"هل تفضل أن تعمل في بيئة ذات طبيعة تنافسية أو تعاونية؟",name:"env",type:"radio",answers:["تنافسية","تعاونية"]},
      {text:"هل يهمك الراتب في المستقبل أكثر من متعة العمل؟",name:"priority",type:"radio",answers:["أجل","لا"]},
      {text:"هل تحب العمل المكتبي أم الميداني؟",name:"work_place",type:"radio",answers:["مكتبي","ميداني"]},
      {text:"هل تحب العمل مع البشر أم مع الآلات والبيانات؟",name:"work_with",type:"radio",answers:["بشر","آلات وبيانات"]},
      {text:"هل أنت شخص مبدع وفني أم منطقي وعملي؟",name:"creativity",type:"radio",answers:["مبدع وفني","منطقي وعملي"]},
      {text:"هل تستمتع بالعمل ضمن فريق أم تفضل العمل بمفردك؟",name:"work_style",type:"radio",answers:["ضمن فريق","بمفردي"]},
      {text:"هل تفضل التفكير العميق والتحليل أم التطبيق العملي السريع؟",name:"think_vs_act",type:"radio",answers:["تفكير عميق وتحليل","تطبيق عملي سريع"]},
      {text:"هل تفضل وظيفة تتطلب التعلم المستمر أم وظيفة ذات مهام ثابتة؟",name:"learn",type:"radio",answers:["تعلم وتطوير مستمر","مهام ثابتة"]},
      {text:"هل لديك اهتمام بالمجالات التالية؟ (اختر أكثر من خيار)",name:"interests",type:"checkbox",answers:["الطبية والصحية","البرمجة والذكاء الاصطناعي","الهندسة والبناء","الأعمال والإدارة","التصميم والفنون","التعليم والتدريس"]},
      {text:"برأيك ما هو أهم تحدٍ يواجه سوق العمل في فلسطين؟",name:"challenge",type:"select",options:["البطالة","قلة الخبرة المطلوبة","ضعف الرواتب","عدم توافق المخرجات التعليمية مع احتياجات السوق","أخرى"]}
    ];

    // === التخصصات ===
    const majors = [
      {id:'cs',name:'هندسة وعلوم الحاسوب',match:a=>a.work_with==='آلات وبيانات'&&a.creativity==='منطقي وعملي'&&a.interests?.includes('البرمجة والذكاء الاصطناعي')},
      {id:'ai',name:'الذكاء الاصطناعي',match:a=>a.work_with==='آلات وبيانات'&&a.creativity==='منطقي وعملي'&&a.learn==='تعلم وتطوير مستمر'&&a.interests?.includes('البرمجة والذكاء الاصطناعي')},
      {id:'med',name:'الطب البشري',match:a=>a.work_with==='بشر'&&a.priority==='أجل'&&a.learn==='تعلم وتطوير مستمر'&&a.interests?.includes('الطبية والصحية')},
      {id:'pharm',name:'الصيدلة',match:a=>a.work_with==='بشر'&&a.work_place==='مكتبي'&&a.interests?.includes('الطبية والصحية')},
      {id:'arch',name:'الهندسة المعمارية',match:a=>a.creativity==='مبدع وفني'&&a.work_place==='مكتبي'&&a.interests?.includes('الهندسة والبناء')},
      {id:'civil',name:'الهندسة المدنية',match:a=>a.work_place==='ميداني'&&a.think_vs_act==='تطبيق عملي سريع'&&a.interests?.includes('الهندسة والبناء')},
      {id:'law',name:'القانون',match:a=>a.work_with==='بشر'&&a.think_vs_act==='تفكير عميق وتحليل'},
      {id:'biz',name:'إدارة الأعمال',match:a=>a.work_style==='ضمن فريق'&&a.work_with==='بشر'&&a.interests?.includes('الأعمال والإدارة')},
      {id:'acc',name:'المحاسبة',match:a=>a.work_with==='آلات وبيانات'&&a.work_place==='مكتبي'&&a.interests?.includes('الأعمال والإدارة')},
      {id:'art',name:'التصميم الجرافيكي',match:a=>a.creativity==='مبدع وفني'&&a.interests?.includes('التصميم والفنون')},
      {id:'edu',name:'التربية',match:a=>a.work_with==='بشر'&&a.interests?.includes('التعليم والتدريس')}
    ];

    // === متغيرات ===
    let current=0,answers={};
    const qText=document.getElementById('question-text');
    const opts=document.getElementById('options');
    const progress=document.querySelector('.progress');
    const btnPrev=document.getElementById('btnPrev');
    const btnNext=document.getElementById('btnNext');
    const btnSubmit=document.getElementById('btnSubmit');
    const results=document.getElementById('results');
    const resultList=document.getElementById('result-list');
    const quiz=document.getElementById('quiz');
    const intro=document.getElementById('intro');
    const quizSection=document.getElementById('quiz-section');

    // === عرض الأسئلة ===
    function renderQuestion(){
      const q=questions[current];
      qText.textContent=q.text;
      opts.innerHTML='';
      if(q.type==="radio"){
        q.answers.forEach(ans=>{
          const div=document.createElement('div');
          div.className='option';
          div.textContent=ans;
          if(answers[q.name]===ans) div.classList.add('selected');
          div.onclick=()=>{answers[q.name]=ans;renderQuestion();};
          opts.appendChild(div);
        });
      }else if(q.type==="checkbox"){
        answers[q.name]=answers[q.name]||[];
        q.answers.forEach(ans=>{
          const div=document.createElement('div');
          div.className='option';
          div.textContent=ans;
          if(answers[q.name].includes(ans)) div.classList.add('selected');
          div.onclick=()=>{
            if(answers[q.name].includes(ans)){
              answers[q.name]=answers[q.name].filter(x=>x!==ans);
            }else{answers[q.name].push(ans);}
            renderQuestion();
          };
          opts.appendChild(div);
        });
      }else if(q.type==="select"){
        const select=document.createElement('select');
        q.options.forEach(opt=>{
          const option=document.createElement('option');
          option.value=opt;option.textContent=opt;
          if(answers[q.name]===opt) option.selected=true;
          select.appendChild(option);
        });
        select.onchange=e=>{answers[q.name]=e.target.value;};
        opts.appendChild(select);
      }
      progress.style.width=((current+1)/questions.length*100)+'%';
      btnPrev.style.display=current===0?'none':'block';
      btnNext.style.display=current===questions.length-1?'none':'block';
      btnSubmit.style.display=current===questions.length-1?'block':'none';
    }

    function showResults(){
      quiz.style.display='none';
      results.style.display='block';
      resultList.innerHTML='';
      const matched=majors.filter(m=>m.match(answers));
      if(matched.length){
        matched.forEach(m=>{
          const card=document.createElement('div');
          card.className='result-card';
          card.textContent=m.name;
          resultList.appendChild(card);
        });
      }else{
        resultList.innerHTML='<p>لم يتم العثور على تخصص مناسب. يرجى مراجعة المرشد الأكاديمي.</p>';
      }
    }

    // === الأحداث ===
    btnPrev.onclick=()=>{current--;renderQuestion();};
    btnNext.onclick=()=>{if(answers[questions[current].name]!==undefined){current++;renderQuestion();}};
    btnSubmit.onclick=showResults;
    document.getElementById('btnRestart').onclick=()=>{current=0;answers={};quiz.style.display='block';results.style.display='none';renderQuestion();};
    document.getElementById('btnStart').onclick=()=>{intro.style.display='none';quizSection.style.display='block';renderQuestion();};
  </script>
</body>
</html>
